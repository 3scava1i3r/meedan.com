/// Primary Navigation
///
/// This is mostly handled by the bootstrap navigation libraries.
/// As much as possible we rely on bootstrap — most of our customization
/// is just the height and padding of the navigation. 2015 Oct 20 CGB
///
/// Bootstrap 3.3.5
///
/// @see bootstrap_integration.scss

// The "Large" style navigation links
//
// For the primary page links
@mixin nav-links--primary {
  // padding-top: $navbar-height - $nav-item-height*2;
  text-decoration: none;
  font-size: 18px;
  line-height: 27px;

  //temp padding for pages without localization

  // When you hover — with a mouse
  border-bottom: 3px solid transparent;
  &:hover {
    border-bottom: 3px solid $check-blue;
    transition: border 0.1s;
  }
  // When you actually tap it
  &:active {
    color: $check-blue;
  }
  // At smaller sizes
  @media all and (max-width: $breakpoint--nav) {
    width: 100%;
  }
}

// The "small" navigation links (locale)
//
// These overrides make the locale links distinctive.
// We want to keep the navbar text vertically aligned.
// So, as the font-size increases, the line-height increases also.
@mixin nav-links--secondary {
  color: $keyboard-grey;
  padding-left: 0;
  padding-right: 0;
  margin-left: 0.8em;
  margin-right: 0.8em;
  font-size: 14px;
  line-height: 30px;
}

// Hide nav sometimes
//
// On the homepage, the nav's hidden until revealed by js.
// Except on mobile: then it always shows.
//
.home .navbar {
  display: none;
  // @media all and (max-width: $breakpoint--nav) {
  //   display: block;
  // }
}

// The outer "navbar"
//
// (which contains multiple ul's)
// Navbar is a bootstrap component: http://getbootstrap.com/components/#navbar
.navbar {
  background-color: white;
  border-bottom: 1px solid $alto-grey;
  padding: 0 1em;
  li {
    padding: 0!important;

  }
  @media all and (min-width: $breakpoint--nav) {
    .nav {
      float: right;
      padding: 0 1em;
    }
  }
}

// The primary pages navigation
//
.navbar-nav.pages {
  li > a {
    @include nav-links--primary;
  }
}

// Locale Nav
//
// A list of links to active and inactive languages (locales).
.nav.locales {
  li {
    border-left-width: 0;

    // All locale links
    & > a {
      @include nav-links--secondary;
    }
  }

  // At smaller sizes
  // Put all the languages on one row.
  @media (max-width: $breakpoint--nav) {
    display: flex;
    justify-content: center;
    border-bottom: 1px solid $firefly10;
    a {
      padding: 10px;
      height: auto;
    }
  }
}

// Locale navigation: current page indicator
.active a {
  font-weight: bold;
  color: darken($keyboard-grey, 30%);

  // Override bootstrap grey background
  background-color: transparent!important;
  &:hover {
    background-color: transparent;
  }
}

// Page navigation: current page indicator
//
// Loop through the main pages.
@each $page in (bridge, check, about)  {
  @media all and (max-width: $breakpoint--nav) {
    .#{$page} .navbar-nav .#{$page} a {
      font-weight: bold;
    }
  }

  // At larger sizes
  @media all and (min-width: $breakpoint--nav) {
    .#{$page} .navbar-nav .#{$page} a {
      border-bottom: 3px solid $firefly40;
    }
  }
}

// Locale navigation styles
//
ul.locales {
  @media all and (min-width: $breakpoint--nav) {
    position: absolute;
    top: 55px;
    right: 0;
    margin: 0.8em;
    padding: 0.1em 0.6em;
    line-height: 20px;
    font-size: smaller;
    background-color: rgba(255,255,255,0.2);
    border-radius: 5em;
    overflow: hidden;
    a {
      color: $firefly80 !important;
    }

    // Make sure they don't switch sides when changing langs
    li.ar {
      float: right;
    }
  }
}

